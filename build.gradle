plugins {
    id("java-library")
}

group = "cloud.grabsky"
version = "1.20.4-${System.getenv("GITHUB_RUN_NUMBER") ?: "dev"}"

subprojects {
    apply(plugin: "java-library")

    group = rootProject.group
    version = rootProject.version

    sourceCompatibility = JavaVersion.VERSION_17
    targetCompatibility = JavaVersion.VERSION_17

    ext {
        BEDROCK_VERSION = "1.20.1-47"
        KYORI_NBT_VERSION = "4.15.0"
    }

    repositories {
        mavenLocal()
        mavenCentral()
        maven { url = "https://repo.grabsky.cloud/releases/" }
        maven { url = "https://papermc.io/repo/repository/maven-public/" }
    }

    dependencies {
        compileOnly("org.jetbrains:annotations:24.0.1")
        // Lombok
        compileOnly("org.projectlombok:lombok:1.18.26")
        annotationProcessor("org.projectlombok:lombok:1.18.26")
        // Paper API
        compileOnly("io.papermc.paper:paper-api:1.20.4-R0.1-SNAPSHOT")
    }

}